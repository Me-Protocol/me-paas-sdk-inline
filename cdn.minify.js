!function(e){function t(e){let t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}e.openIframe=function n({apiKey:i,amount:_,email:o,onClose:l,onSuccess:a,onError:s,link:r}){if(i=t(i),_=t(_),o=t(o),r=t(r),!i||!_||!o||!r){"function"==typeof s&&s("Missing required parameters: apiKey, amount, email, or link.");return}let d=`${r}?apiKey=${encodeURIComponent(i)}&amount=${encodeURIComponent(_)}&email=${encodeURIComponent(o)}`,$=document.createElement("div");$.style.position="fixed",$.style.top="0",$.style.left="0",$.style.width="100vw",$.style.height="100vh",$.style.backgroundColor="rgba(0,0,0,0.5)",$.style.zIndex="9999",$.style.display="flex",$.style.justifyContent="center",$.style.alignItems="center",$.style.opacity="0";let p=document.createElement("div");p.style.position="relative",p.style.width="400px",p.style.height="550px",p.style.backgroundColor="#fff",p.style.borderRadius="32px",p.style.overflow="hidden",p.style.boxShadow="0px 4px 10px rgba(0, 0, 0, 0.1)",p.classList.add("me-protocol-modal-content");let y=document.createElement("style");y.innerHTML=`
      @media (max-width: 768px) {
        .me-protocol-modal-content {
          width: 100vw !important;
          height: 100vh !important;
          border-radius: 0 !important;
        }
      }
    `,document.head.appendChild(y);let c=document.createElement("iframe");c.src=d,c.style.width="100%",c.style.height="100%",c.style.border="none",c.allow="payment";let h=document.createElement("button");function m(){$.style.opacity="0",setTimeout(()=>{document.body.removeChild($),"function"==typeof l&&l()},500)}h.innerHTML=`
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM15.36 14.3C15.65 14.59 15.65 15.07 15.36 15.36C15.21 15.51 15.02 15.58 14.83 15.58C14.64 15.58 14.45 15.51 14.3 15.36L12 13.06L9.7 15.36C9.55 15.51 9.36 15.58 9.17 15.58C8.98 15.58 8.79 15.51 8.64 15.36C8.35 15.07 8.35 14.59 8.64 14.3L10.94 12L8.64 9.7C8.35 9.41 8.35 8.93 8.64 8.64C8.93 8.35 9.41 8.35 9.7 8.64L12 10.94L14.3 8.64C14.59 8.35 15.07 8.35 15.36 8.64C15.65 8.93 15.65 9.41 15.36 9.7L13.06 12L15.36 14.3Z" fill="#878789"/>
      </svg>
    `,h.style.position="absolute",h.style.top="10px",h.style.right="0px",h.style.background="none",h.style.border="none",h.style.cursor="pointer",p.appendChild(h),p.appendChild(c),$.appendChild(p),document.body.appendChild($),setTimeout(()=>{$.style.opacity="1"},10),h.addEventListener("click",m),e.addEventListener("message",function(e){e.origin===new URL(r).origin&&("success"===e.data.status&&"function"==typeof a?(a(e.data.hash),m()):"error"===e.data.status&&"function"==typeof s?s(e.data.message):"close"===e.data.status&&m())}),$.addEventListener("click",function(e){e.target===$&&m()})}}(window);